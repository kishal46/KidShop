{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import Authuse from'./Auth';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[message,setMessage]=useState('');const auth=Authuse();const navigate=useNavigate();const handleSubmit=e=>{e.preventDefault();axios.get(\"http://localhost:3001/login/get/\".concat(email)).then(res=>{var _res$data$;if((_res$data$=res.data[0])!==null&&_res$data$!==void 0&&_res$data$.email){var _res$data$2;if(((_res$data$2=res.data[0])===null||_res$data$2===void 0?void 0:_res$data$2.password)===password){var _res$data$3;toast.success(\"Login Successful!\",{position:\"top-center\",theme:\"dark\",autoClose:700,onClose:()=>navigate('/')});setMessage('');auth.login((_res$data$3=res.data[0])===null||_res$data$3===void 0?void 0:_res$data$3.username);setEmail('');setPassword('');}else{setMessage('Incorrect password');toast.error(\"Password incorrect\");}}else{setMessage('Email not found');toast.error(\"Email not found\");}}).catch(err=>{console.error('Error:',err);// setMessage('An error occurred. Please try again.');\ntoast.error(\"An error occurred. Please try again\",{position:\"top-center\",theme:\"dark\",autoClose:700});});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login Page\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:event=>setEmail(event.target.value)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:event=>setPassword(event.target.value)}),/*#__PURE__*/_jsx(\"br\",{}),message&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:message}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"})]})]});}","map":{"version":3,"names":["React","useState","axios","useNavigate","Authuse","ToastContainer","toast","jsx","_jsx","jsxs","_jsxs","Login","email","setEmail","password","setPassword","message","setMessage","auth","navigate","handleSubmit","e","preventDefault","get","concat","then","res","_res$data$","data","_res$data$2","_res$data$3","success","position","theme","autoClose","onClose","login","username","error","catch","err","console","children","className","onSubmit","type","value","onChange","event","target"],"sources":["E:/New folder/Solo_project-main/frontend/src/Components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport Authuse from './Auth';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nexport default function Login() {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [message, setMessage] = useState('');\n    const auth = Authuse();\n    const navigate = useNavigate();\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        axios.get(`http://localhost:3001/login/get/${email}`)\n            .then(res => {\n                if (res.data[0]?.email) {\n                    if (res.data[0]?.password === password) {\n                        toast.success(\"Login Successful!\", {\n                            position:\"top-center\",\n                            theme:\"dark\",\n                            autoClose:700,\n                            onClose: () => navigate('/')\n                        });\n                        setMessage('');\n                        auth.login(res.data[0]?.username);\n                        setEmail('');\n                        setPassword('');\n                    } else {\n                        setMessage('Incorrect password');\n                        toast.error(\"Password incorrect\");\n                    }\n                } else {\n                    setMessage('Email not found');\n                    toast.error(\"Email not found\");\n                }\n            })\n            .catch(err => {\n                console.error('Error:', err);\n                // setMessage('An error occurred. Please try again.');\n                toast.error(\"An error occurred. Please try again\", {\n                    position:\"top-center\",\n                    theme:\"dark\",\n                    autoClose:700,\n                });\n                \n            });\n    };\n\n    return (\n        <div>\n            <ToastContainer />\n            <form className=\"form\" onSubmit={handleSubmit}>\n                <h1>Login Page</h1>\n                <label>Email:</label>\n                <input type=\"email\" value={email} onChange={(event) => setEmail(event.target.value)} /><br />\n                <label>Password:</label>\n                <input type=\"password\" value={password} onChange={(event) => setPassword(event.target.value)} /><br />\n                {message && <p className=\"error-message\">{message}</p>}\n                <button type=\"submit\">Login</button>\n            </form>\n        </div>\n    );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,OAAO,KAAM,QAAQ,CAC5B,OAASC,cAAc,CAAEC,KAAK,KAAQ,gBAAgB,CACtD,MAAO,uCAAuC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,cAAe,SAAS,CAAAC,KAAKA,CAAA,CAAG,CAC5B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACa,QAAQ,CAAEC,WAAW,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACe,OAAO,CAAEC,UAAU,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAAAiB,IAAI,CAAGd,OAAO,CAAC,CAAC,CACtB,KAAM,CAAAe,QAAQ,CAAGhB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAiB,YAAY,CAAIC,CAAC,EAAK,CACxBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBpB,KAAK,CAACqB,GAAG,oCAAAC,MAAA,CAAoCZ,KAAK,CAAE,CAAC,CAChDa,IAAI,CAACC,GAAG,EAAI,KAAAC,UAAA,CACT,IAAAA,UAAA,CAAID,GAAG,CAACE,IAAI,CAAC,CAAC,CAAC,UAAAD,UAAA,WAAXA,UAAA,CAAaf,KAAK,CAAE,KAAAiB,WAAA,CACpB,GAAI,EAAAA,WAAA,CAAAH,GAAG,CAACE,IAAI,CAAC,CAAC,CAAC,UAAAC,WAAA,iBAAXA,WAAA,CAAaf,QAAQ,IAAKA,QAAQ,CAAE,KAAAgB,WAAA,CACpCxB,KAAK,CAACyB,OAAO,CAAC,mBAAmB,CAAE,CAC/BC,QAAQ,CAAC,YAAY,CACrBC,KAAK,CAAC,MAAM,CACZC,SAAS,CAAC,GAAG,CACbC,OAAO,CAAEA,CAAA,GAAMhB,QAAQ,CAAC,GAAG,CAC/B,CAAC,CAAC,CACFF,UAAU,CAAC,EAAE,CAAC,CACdC,IAAI,CAACkB,KAAK,EAAAN,WAAA,CAACJ,GAAG,CAACE,IAAI,CAAC,CAAC,CAAC,UAAAE,WAAA,iBAAXA,WAAA,CAAaO,QAAQ,CAAC,CACjCxB,QAAQ,CAAC,EAAE,CAAC,CACZE,WAAW,CAAC,EAAE,CAAC,CACnB,CAAC,IAAM,CACHE,UAAU,CAAC,oBAAoB,CAAC,CAChCX,KAAK,CAACgC,KAAK,CAAC,oBAAoB,CAAC,CACrC,CACJ,CAAC,IAAM,CACHrB,UAAU,CAAC,iBAAiB,CAAC,CAC7BX,KAAK,CAACgC,KAAK,CAAC,iBAAiB,CAAC,CAClC,CACJ,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,EAAI,CACVC,OAAO,CAACH,KAAK,CAAC,QAAQ,CAAEE,GAAG,CAAC,CAC5B;AACAlC,KAAK,CAACgC,KAAK,CAAC,qCAAqC,CAAE,CAC/CN,QAAQ,CAAC,YAAY,CACrBC,KAAK,CAAC,MAAM,CACZC,SAAS,CAAC,GACd,CAAC,CAAC,CAEN,CAAC,CAAC,CACV,CAAC,CAED,mBACIxB,KAAA,QAAAgC,QAAA,eACIlC,IAAA,CAACH,cAAc,GAAE,CAAC,cAClBK,KAAA,SAAMiC,SAAS,CAAC,MAAM,CAACC,QAAQ,CAAExB,YAAa,CAAAsB,QAAA,eAC1ClC,IAAA,OAAAkC,QAAA,CAAI,YAAU,CAAI,CAAC,cACnBlC,IAAA,UAAAkC,QAAA,CAAO,QAAM,CAAO,CAAC,cACrBlC,IAAA,UAAOqC,IAAI,CAAC,OAAO,CAACC,KAAK,CAAElC,KAAM,CAACmC,QAAQ,CAAGC,KAAK,EAAKnC,QAAQ,CAACmC,KAAK,CAACC,MAAM,CAACH,KAAK,CAAE,CAAE,CAAC,cAAAtC,IAAA,QAAK,CAAC,cAC7FA,IAAA,UAAAkC,QAAA,CAAO,WAAS,CAAO,CAAC,cACxBlC,IAAA,UAAOqC,IAAI,CAAC,UAAU,CAACC,KAAK,CAAEhC,QAAS,CAACiC,QAAQ,CAAGC,KAAK,EAAKjC,WAAW,CAACiC,KAAK,CAACC,MAAM,CAACH,KAAK,CAAE,CAAE,CAAC,cAAAtC,IAAA,QAAK,CAAC,CACrGQ,OAAO,eAAIR,IAAA,MAAGmC,SAAS,CAAC,eAAe,CAAAD,QAAA,CAAE1B,OAAO,CAAI,CAAC,cACtDR,IAAA,WAAQqC,IAAI,CAAC,QAAQ,CAAAH,QAAA,CAAC,OAAK,CAAQ,CAAC,EAClC,CAAC,EACN,CAAC,CAEd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}